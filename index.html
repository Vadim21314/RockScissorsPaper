<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Камень-ножницы-бумага</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        Камень - серый
        Ножницы - оранжевые
        Бумага - белая
    -->
    <div class="col-8 mx-auto text-center mt-5">
        <h1 class="info">Игрок 1 ходит!</h1>
        <div class="row  py-5">
            <div class="col-6 bg-success py-5">
                <h1>Игрок 1</h1>
                <div class="choice-player-1">

                </div>
                <p>Камень (серый) - A</p>
                <p>Ножницы (оранжевый)- S</p>
                <p>Бумага (белый)- D</p>
            </div>

            <div class="col-6 bg-info py-5">
                <h1>Игрок 2</h1>
                <div class="choice-player-2">
                </div>
                <p>Камень (серый)- J</p>
                <p>Ножницы (оранжевый)- K</p>
                <p>Бумага (белый)- L</p>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        
        let choice_elem_1 = document.querySelector(".choice-player-1");
        let choice_elem_2 = document.querySelector(".choice-player-2");
        let queue = "player1"
        let choice1 = "";
        let choice2 = ""
        let info_elem = document.querySelector(".info");

        document.addEventListener('keydown', function(arg){
            console.log(arg);
            if(queue == "player1"){
                if(arg.code == "KeyA"){
                queue = "player2"
                choice1 = "камень"
                info_elem.innerHTML = "Второй игрок ходит";
            } else if(arg.code == "KeyS"){
                 queue = "player2"
                 choice1 = "ножницы"
                info_elem.innerHTML = "Второй игрок ходит";                  
            }else if(arg.code == "KeyD"){

                 queue = "player2"  
                 choice1 = "бумага"
                 info_elem.innerHTML = "Второй игрок ходит";             
            }}
        

           
            


           if(queue == "player2"){
                 if(arg.code == "KeyJ"){
                    queue = "player1"
                    choice2 = "камень"
                    setTimeout(finish, 1000)        
                } else if(arg.code == "KeyK"){
                    queue = "player1"
                    choice2 = "ножницы"
                    setTimeout(finish, 1000) 
                }else if(arg.code == "KeyL"){
                   queue = "player1"
                   choice2 = " бумага"
                   setTimeout(finish, 1000) 
                }
            }
        });

        function finish(){
            if(choice1 == "камень"){
                choice_elem_1.style.background = "gray"
            }else if(choice1 == "ножницы"){
                choice_elem_1.style.background = "orange"
            }else if(choice1 == "бумага"){
                choice_elem_1.style.background = "white"
            }

            if(choice2 == "камень"){
                choice_elem_2.style.background = "gray"
            }else if(choice2 == "ножницы"){
                choice_elem_2.style.background = "orange"
            }else if(choice2 == "бумага"){
                choice_elem_2.style.background = "white"
            }



            if(choice1 == choice2){
                alert("ничья")
            }else if(choice1 == "бумага" && choice2 == "ножницы"){
                alert("первый выйграл")
            }else if(choice1 == "ножницы" && choice2 == "бумага"){
                alert("первый выйграл")
            }else if(choice1 == "бумага" && choice2 == "камень"){
                alert("первый выйграл")
            }else{
                alert("второй выйграл")
            }
        }
    </script>
   
</body>
</html>